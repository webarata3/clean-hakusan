(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(7585)}])},7585:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSG:function(){return m},default:function(){return pages}});var r=a(5893),s=a(2984),l=a.n(s);a(4290);var n=a(7294);let padStart0=(e,t)=>String(e).padStart(t,"0"),formatDateYyyymmdd=e=>"".concat(e.getFullYear()).concat(padStart0(e.getMonth()+1,2)).concat(padStart0(e.getDate(),2)),formatDateJa=e=>{if(null===e)return"";let t=parseDateYyyymmdd(e);return"".concat(t.getMonth()+1,"月").concat(t.getDate(),"日(").concat(toDayName(t.getDay()),")")},toDayName=e=>["日","月","火","水","木","金","土"][e],parseDateYyyymmdd=e=>{let t=parseInt(e.substring(0,4)),a=parseInt(e.substring(4,6)),r=parseInt(e.substring(6,8));return new Date("".concat(t,"-").concat(padStart0(a,2),"-").concat(padStart0(r,2),"T00:00:00"))},diffDate=(e,t)=>(e.getTime()-t.getTime())/1e3/60/60/24,getDateClassName=e=>{let t="flex flex-column p-1 relative flex-1";return 0===e?t+" bg-amber-100 text-red-600":1===e?t+" text-red-600":2===e?t+" text-blue-600":t},getDateLabel=e=>0===e?"今日":1===e?"明日":2===e?"明後日":"".concat(e,"日後");var card_item=e=>{let{today:t,garbage:a}=e,[s,l]=(0,n.useState)(null),[c,i]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let e=a.garbageDates.filter(e=>e>=t);0!==e.length&&l(e[0])},[t,a]),(0,n.useEffect)(()=>{if(null===s)return;let e=parseDateYyyymmdd(t),a=parseDateYyyymmdd(s);i(diffDate(a,e))},[s]),(0,r.jsxs)("div",{className:"flex flex-1 flex-row border border-gray-700 m-1 shadow-[5px_5px_5px_rgba(0,0,0,0.4)]",children:[(0,r.jsx)("div",{className:"text-white bg-sky-500 flex-1 text-sm p-1 relative before:content-[''] before:absolute before:inset-y-1/2 before:right-[-25px] before:mt-[-13px] before:border-[13px] before:border-transparent before:border-l-sky-500 z-10",children:(0,r.jsx)(n.Fragment,{children:a.garbageTitles.map((e,t)=>(0,r.jsx)("div",{children:e},t))})}),(0,r.jsxs)("div",{className:getDateClassName(c),children:[(0,r.jsx)("div",{className:"flex flex-column flex-1 text-4xl text-center items-center justify-center",children:getDateLabel(c)}),(0,r.jsx)("div",{className:"bottom-1 right-1 text-right absolute text-xs text-gray-600",children:formatDateJa(s)})]})]})},card_list=e=>{let{today:t,area:a}=e;return(0,r.jsx)("div",{className:"grow grid grid-rows-4 auto-rows-fr",children:a.garbages.map((e,a)=>(0,r.jsx)(card_item,{today:t,garbage:e},a))})},c=a(5675),i=a.n(c),footer=()=>(0,r.jsxs)("footer",{className:"flex justify-between m-1",children:[(0,r.jsx)("small",{className:"text-base",children:"\xa92023 webarata3（ARATA Shinichi）"}),(0,r.jsx)("a",{href:"https://twitter.com/webarata3",target:"_blank",className:"w-4",children:(0,r.jsx)(i(),{src:"/image/twitter.svg",width:16,height:16,alt:""})})]}),header=e=>{let{handleMenu:t}=e;return(0,r.jsxs)("header",{className:"flex flex-row flex-nowrap justify-start text-white bg-blue-500 text-2xl p-4",children:[(0,r.jsx)("button",{type:"button",className:"w-6 h-6 text-white",onClick:t,children:(0,r.jsx)("svg",{className:"w-6 h-6 text-white hover:text-sky-800",children:(0,r.jsx)("use",{xlinkHref:"image/bars.svg#bars"})})}),(0,r.jsx)("h1",{className:"text-xl flex-auto text-center",children:"白山市ゴミ収集日程"}),(0,r.jsx)("a",{href:"/",className:"w-6 h-6 text-white",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-white hover:text-sky-800",children:(0,r.jsx)("use",{xlinkHref:"image/rotate-right.svg#rotate-right"})})})]})},external_link=e=>{let{calendarUrl:t}=e;return(0,r.jsxs)("div",{className:"text-right w-full",children:[(0,r.jsx)("a",{href:"https://www.city.hakusan.lg.jp/seikatsu/kankyo/1001731/1005551/1007377.html",target:"_blank",rel:"noreferrer",className:"text-xs text-sky-600 mr-2",children:"地域が不明な方"}),(0,r.jsx)("a",{href:"https://gb.hn-kouiki.jp/hakusan",target:"_blank",rel:"noreferrer",className:"text-xs text-sky-600 mr-2",children:"ゴミ分別検索"}),(0,r.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",className:"text-xs text-sky-600",children:"ゴミの出し方"})]})},select_area=e=>{let{regions:t,selectedAreaNo:a,handleOnChange:s}=e,renderRegions=(e,t)=>(0,r.jsx)("optgroup",{label:e.regionName,children:e.areas.map(e=>(0,r.jsx)("option",{value:e.areaNo,children:e.areaName},e.areaNo))},t);return(0,r.jsx)("div",{className:"items-center flex-1 flex-column text-sm py-2.5 px-5",children:(0,r.jsx)("div",{className:"flex flex-row items-center w-full",children:(0,r.jsx)("select",{className:"appearance-none border border-slate-400 flex-1 w-full p-2.5 bg-select bg-no-repeat bg-[99%_50%] bg-[length:18px_18px] bg-gray-100",id:"area",onChange:s,value:a,children:t.map((e,t)=>renderRegions(e,t))})})})},main_header=e=>{let{regions:t,selectedAreaNo:a,handleOnChange:s,calendarUrl:l}=e;return(0,r.jsxs)("section",{children:[(0,r.jsx)("div",{className:"mt-2.5 mb-0 mx-1 text-sm text-red-600 before:content-['※'] before:pr-0.5",children:"白山市公式のアプリではありません。"}),(0,r.jsx)(select_area,{regions:t,selectedAreaNo:a,handleOnChange:s}),(0,r.jsx)(external_link,{calendarUrl:l})]})},x=a(1664),o=a.n(x),menu=e=>{let{openMenu:t,handleClose:a}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed top-0 left-0 w-full h-full z-10 bg-black/[0.6] -translate-x-full ".concat(t?"translate-x-0":"-translate-x-full"),onClick:a}),(0,r.jsxs)("menu",{className:"fixed top-0 left-0 w-48 h-screen z-30 bg-white -translate-x-full transition-all ".concat(t?"translate-x-0":"-translate-x-full"),children:[(0,r.jsx)("div",{className:"flex justify-center relative p-4 bg-slate-300",children:(0,r.jsx)("button",{type:"button",onClick:a,children:(0,r.jsx)("svg",{className:"w-6 h-6 text-black hover:text-sky-800",children:(0,r.jsx)("use",{xlinkHref:"image/xmark.svg#xmark"})})})}),(0,r.jsxs)("ul",{className:"flex flex-col p-1 whitespace-nowrap",children:[(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:"how-to-use/",target:"_blank",className:"flex flex-row items-center gap-1 block text-black no-underline p-1 hover:bg-sky-100",children:[(0,r.jsx)("span",{children:"使い方"}),(0,r.jsx)("svg",{className:"w-4 h-4 text-black",children:(0,r.jsx)("use",{xlinkHref:"/image/open-right-square.svg#open-right-square"})})]})}),(0,r.jsx)("li",{className:"border-t border-solid border-slate-300",children:(0,r.jsx)(o(),{href:"/privacy/",className:"block text-black no-underline p-1 hover:bg-sky-100",children:"プライバシーポリシー"})}),(0,r.jsx)("li",{className:"border-t border-solid border-slate-300",children:(0,r.jsx)(o(),{href:"/disclaimer/",className:"block text-black no-underline p-1 hover:bg-sky-100",children:"免責事項"})}),(0,r.jsx)("li",{className:"border-t border-solid border-slate-300",children:(0,r.jsx)(o(),{href:"/credit/",className:"block text-black no-underline p-1 hover:bg-sky-100",children:"クレジット"})})]})]})]})},d=a(9008),h=a.n(d),m=!0,pages=e=>{let{Component:t,pageProps:a,param:s}=e,[c,i]=(0,n.useState)(formatDateYyyymmdd(new Date)),[x,o]=(0,n.useState)("01"),[d,m]=(0,n.useState)(!1),f=s.areas.filter(e=>e.areaNo==x)[0];return(0,n.useEffect)(()=>{let e=setInterval(()=>{i(e=>{let t=formatDateYyyymmdd(new Date);return t!==e?t:e})},5e3);return()=>clearInterval(e)}),(0,n.useEffect)(()=>{var e;o(null!==(e=localStorage.getItem("areaNo"))&&void 0!==e?e:"01")},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h(),{children:[(0,r.jsx)("meta",{name:"viewport",content:"viewport-fit=cover, width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"}),(0,r.jsx)("link",{rel:"manifest",href:"/manifest.json"}),(0,r.jsx)("link",{rel:"apple-touch-icon",href:"/icon.png"}),(0,r.jsx)("meta",{name:"theme-color",content:"#428cee"})]}),(0,r.jsxs)("div",{className:"flex flex-col h-[100dvh] pb-iphone max-w-xl w-screen mx-auto box-border ".concat(l().className),children:[(0,r.jsx)(header,{handleMenu:()=>{m(!0)}}),(0,r.jsxs)("main",{className:"flex flex-col h-full w-full text-zinc-700 bg-white text-xl",children:[(0,r.jsx)(main_header,{regions:s.regions,selectedAreaNo:x,handleOnChange:e=>{o(e.target.value),localStorage.setItem("areaNo",e.target.value)},calendarUrl:f.calendarUrl}),(0,r.jsx)(card_list,{today:c,area:f})]}),(0,r.jsx)(footer,{}),(0,r.jsx)(menu,{openMenu:d,handleClose:()=>{m(!1)}})]})]})}},4290:function(){}},function(e){e.O(0,[774,381,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);